# 接口

接口就是公共的规范标准。

## 接口的定义

我们类的定义是使用`class`关键字，而接口的定义是使用`interface`关键字。如下定义了一个接口

```java
public interface MyInterface {
    ...
}
```

接口里面可以有什么，这与版本有关。

- `Java 7`
  - 常量
  - 抽象方法
- `Java 8`（新增）
  - 默认方法
  - 静态方法
- `Java 9`（新增）
  - 私有方法

## 接口的使用

- 接口不能够直接使用，需要一个类去实现它。我们在之前使用`extends`去继承一个，实现一个接口使用`implements`关键字，如

```java
public class MyClass implements MyInterface {
    
}
```

- 实现必须实现接口中的所有抽样方法。如果没有全部实现，那么该类必须为抽样类
- 创建实现类对象使用

## 抽象方法

接口中的抽样方法的修饰符必须是`public abstract`，所这两个关键字可以省去，如下的写法都是对的

```java
public abstract void eat(); //不省略
abstract void eat(); //只省略public
public void eat();   //只省略abstract
void eat();          //两个都省略
```

## 默认方法

默认方法的定义为

```java
public default 返回值 方法名(参数列表) { //修饰符必须是public，所以public可以省略
    //方法体
}
```

默认方法就要解决的是升级问题。假设你要升级一个接口，如果你添加一个抽象类的话，那么由于实现类类没有实现该抽象方法，那么实现类就不能使用，这样是不合理的。但是添加默认方法的话，实现类不需要实现该类，实现类可以正常的使用，并且可以通过实现类对象调用该默认方法。

## 静态方法

静态方法的定义为

```java
public static 返回值 方法名(参数列表){ //同default方法，public可以省略
    //方法体
}
```

实现类不能直接调用静态方法，只能通过接口`.`静态方法调用。因为一个实现类是可以同时实现多个接口的，如何多个接口有相同的静态方法，那么通过实现类调用静态方法，那么调用哪个呢？所以实现类是不能直接调用静态方法的。不同于继承，因为继承只有一个直接父类。

## 私有方法

私有方法是为解决代码重复问题的。假设有两个默认方法，这两个默认方法的代码重复很多，那我们想着可以把重复的代码抽出来形成一个新的方法，然后在这两个默认方法中调用这个新方法就可以。但是这个新方法是一个中间方法，应当是只能在接口内才能够被调用，所以不能是默认方法。这个方法应该被定义为私有方法。

私有方法分为两类

- 普通私有方法
  - 解决默认方法代码重复问题，只使用`private`修饰
- 静态私有方法
  - 解决静态方法代码重复问题，使用`private static`修饰

## 常量

接口中也能定义“成员变量”，只不过必须使用`public static final`修饰，`final`代表的就是不可变的意思，所以就相当于是一个常量。接口中的常量必须进行赋值，不能不赋值

```java
public static final int NUM = 10；  
```

对于常量，我们采用所有字母大写，并且单词之间使用下划线分割。接口使用常量的方法是接口.常量，原因同静态方法一样。

## 注意事项

- 接口没有静态代码块和构造方法
- 一个类可以同时实现多个接口

```java
... implements 接口1，接口2，...
```

- 如果实现的两个接口有相同的抽象方法，只需要实现一个即可
- 不能没有实现所有的抽象方法，那么就必须是抽象类
- 如果实现的两个接口有重复的默认方法，那么实现类必须重写该默认方法
- 一个类的直接父类与接口的默认方法重复的话，优先使用直接父类的方法
- 接口与接口之间多继承的

```java
接口 extends 接口1，接口2，...
```

如果继承的多个接口默认方法重复，那么必须重写，且重写的方法必须为默认方法。如果抽象方法重复，只继承一个。